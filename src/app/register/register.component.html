<h2>Register</h2>
<form [formGroup]="form" (ngSubmit)="submit()">
  <div>
    <label>Name</label><br/>
    <input formControlName="name" />
    <div *ngIf="form.get('name')?.touched && form.get('name')?.invalid">
      <small *ngIf="form.get('name')?.errors?.['required']">Name required</small>
    </div>
  </div>

  <div>
    <label>Email</label><br/>
    <input formControlName="email" type="email"/>
    <div *ngIf="form.get('email')?.touched && form.get('email')?.invalid">
      <small *ngIf="form.get('email')?.errors?.['required']">Email required</small>
      <small *ngIf="form.get('email')?.errors?.['email']">Invalid email</small>
    </div>
  </div>

  <div>
    <label>Password</label><br/>
    <input formControlName="password" type="password"/>
    <div *ngIf="form.get('password')?.touched && form.get('password')?.invalid">
      <small *ngIf="form.get('password')?.errors?.['required']">Password required</small>
      <small *ngIf="form.get('password')?.errors?.['minlength']">Min 6 chars</small>
    </div>
  </div>

  <div *ngIf="error" style="color:red">{{ error }}</div>

  <button type="submit" [disabled]="loading">Register</button>
  <a routerLink="/login" style="margin-left:10px">Back to Login</a>
</form>