<div class="workspace-container">
  <app-sidebar [open]="sidebarOpen" (closed)="closeSidebar()"></app-sidebar>

  <div class="workspace-content" [class.sidebar-open]="sidebarOpen">
    <app-top-bar (toggleSidebar)="toggleSidebar()" [sidebarOpen]="sidebarOpen"></app-top-bar>

    <div class="form-wrapper">
      <div class="form-card">
        <div class="form-header">
          <div class="form-icon">
            <i class="fas fa-folder-plus"></i>
          </div>
          <h2 class="form-title">Create New Workspace</h2>
          <p class="form-subtitle">Organize your documents and collaborate with your team</p>
        </div>

        <form class="workspace-form" [formGroup]="workspaceForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label class="input-label" for="name">
              <i class="fas fa-tag"></i>
              Workspace Name
            </label>
            <div class="input-wrapper">
              <input 
                id="name" 
                type="text" 
                class="form-input" 
                formControlName="name" 
                placeholder="e.g., Marketing Team, Project Alpha" 
              />
            </div>
            <div *ngIf="workspaceForm.get('name')?.touched && workspaceForm.get('name')?.invalid" class="validation-error">
              <i class="fas fa-exclamation-circle"></i>
              <small>Workspace name is required</small>
            </div>
          </div>

          <div class="form-group">
            <label class="input-label" for="description">
              <i class="fas fa-align-left"></i>
              Description
            </label>
            <div class="input-wrapper">
              <textarea 
                id="description" 
                class="form-input form-textarea" 
                rows="4" 
                formControlName="description"
                placeholder="Describe the purpose of this workspace (optional)"
              ></textarea>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group form-group-half">
              <label class="input-label" for="type">
                <i class="fas fa-layer-group"></i>
                Type
              </label>
              <div class="input-wrapper">
                <select id="type" class="form-input form-select" formControlName="type">
                  <option value="" disabled>Select type</option>
                  <option value="intern">Intern</option>
                  <option value="school">School</option>
                  <option value="finance">Finance</option>
                  <option value="legal">Legal</option>
                </select>
              </div>
              <div *ngIf="workspaceForm.get('type')?.touched && workspaceForm.get('type')?.invalid" class="validation-error">
                <i class="fas fa-exclamation-circle"></i>
                <small>Type is required</small>
              </div>
            </div>

            <div class="form-group form-group-half">
              <label class="input-label" for="access">
                <i class="fas fa-lock"></i>
                Access
              </label>
              <div class="input-wrapper">
                <select id="access" class="form-input form-select" formControlName="access">
                  <option value="private">Private</option>
                  <option value="public">Public</option>
                </select>
              </div>
            </div>
          </div>

          <div *ngIf="error" class="error-message" role="alert">
            <i class="fas fa-exclamation-triangle"></i>
            <span>{{ error }}</span>
          </div>

          <div class="form-actions">
            <button type="button" class="btn btn-cancel" (click)="onCancel()">
              <i class="fas fa-times"></i>
              Cancel
            </button>
            <button type="submit" class="btn btn-create" [disabled]="workspaceForm.invalid || submitting">
              <i class="fas fa-check" *ngIf="!submitting"></i>
              <i class="fas fa-spinner fa-spin" *ngIf="submitting"></i>
              {{ submitting ? 'Creating...' : 'Create Workspace' }}
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
