<div class="login-screen">
  <div class="login-container">
    <!-- Curved gradient arc on the left -->
    <div class="gradient-arc"></div>
    
    <!-- Register form on the right -->
    <div class="login-form-container">
      <h1 class="login-title">Sign Up</h1>
      <form class="login-form" [formGroup]="form" (ngSubmit)="submit()" novalidate>
        <div class="input-row">
          <div class="input-group">
            <label class="input-label" for="firstName">First Name</label>
            <input 
              id="firstName" 
              class="form-input" 
              formControlName="firstName" 
              type="text" 
              placeholder="First name"
            />
            <div *ngIf="form.get('firstName')?.touched && form.get('firstName')?.invalid" class="validation-error">
              <small *ngIf="form.get('firstName')?.errors?.['required']">First name required</small>
              <small *ngIf="form.get('firstName')?.errors?.['server'] as e">{{ e }}</small>
            </div>
          </div>

          <div class="input-group">
            <label class="input-label" for="lastName">Last Name</label>
            <input 
              id="lastName" 
              class="form-input" 
              formControlName="lastName" 
              type="text" 
              placeholder="Last name"
            />
            <div *ngIf="form.get('lastName')?.touched && form.get('lastName')?.invalid" class="validation-error">
              <small *ngIf="form.get('lastName')?.errors?.['required']">Last name required</small>
              <small *ngIf="form.get('lastName')?.errors?.['server'] as e">{{ e }}</small>
            </div>
          </div>
        </div>

        <div class="input-group">
          <label class="input-label" for="nid">National ID</label>
          <input 
            id="nid" 
            class="form-input" 
            formControlName="nid" 
            type="text" 
            placeholder="National ID"
          />
          <div *ngIf="form.get('nid')?.touched && form.get('nid')?.invalid" class="validation-error">
            <small *ngIf="form.get('nid')?.errors?.['required']">National ID required</small>
            <small *ngIf="form.get('nid')?.errors?.['server'] as e">{{ e }}</small>
          </div>
        </div>

        <div class="input-group">
          <label class="input-label" for="email">Email</label>
          <input 
            id="email" 
            class="form-input" 
            formControlName="email" 
            type="email" 
            placeholder="name@example.com"
          />
          <div *ngIf="form.get('email')?.touched && form.get('email')?.invalid" class="validation-error">
            <small *ngIf="form.get('email')?.errors?.['required']">Email required</small>
            <small *ngIf="form.get('email')?.errors?.['email']">Invalid email format</small>
            <small *ngIf="form.get('email')?.errors?.['server'] as e">{{ e }}</small>
          </div>
        </div>

        <div class="input-group">
          <label class="input-label" for="password">Password</label>
          <div class="password-wrapper">
            <input 
              id="password" 
              class="form-input" 
              formControlName="password" 
              [type]="showPassword ? 'text' : 'password'" 
              placeholder="••••••"
            />
            <button 
              type="button" 
              class="password-toggle" 
              (click)="togglePassword()"
              aria-label="Toggle password visibility"
            >
              <i class="fas" [class.fa-eye]="!showPassword" [class.fa-eye-slash]="showPassword"></i>
            </button>
          </div>
          <div *ngIf="form.get('password')?.touched && form.get('password')?.invalid" class="validation-error">
            <small *ngIf="form.get('password')?.errors?.['required']">Password required</small>
            <small *ngIf="form.get('password')?.errors?.['minlength']">Min 6 characters</small>
            <small *ngIf="form.get('password')?.errors?.['server'] as e">{{ e }}</small>
          </div>
        </div>

        <div class="form-actions">
          <div></div>
          <button type="submit" class="login-btn" [disabled]="loading || form.invalid">
            {{ loading ? 'Creating Account...' : 'Create Account' }}
          </button>
        </div>

        <div *ngIf="error" class="error-message" role="alert">{{ error }}</div>
        <ul *ngIf="validationSummary.length" class="validation-error" style="margin: 8px 0; padding-left: 20px;">
          <li *ngFor="let item of validationSummary" style="margin: 4px 0;">{{ item }}</li>
        </ul>
      </form>
      
      <div class="signup-link">
        <span>Already have an account?</span>
        <a routerLink="/login" class="signup-link-text">Sign In</a>
      </div>
    </div>
  </div>
</div>
